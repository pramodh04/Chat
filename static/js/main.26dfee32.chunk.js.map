{"version":3,"sources":["firebase.js","avatar.png","components/user.js","svg/attach.js","components/messageform.js","components/message.js","svg/back.js","pages/Home.js","components/Navbar.js","pages/signup.js","pages/Login.js","svg/camera.js","svg/delete.js","pages/profile.js","pages/error.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","storage","User","props","user","getuser","user1","chat","setscreen","user2","uid","useState","data","setdata","id","useEffect","unsub","collection","doc","onSnapshot","className","name","onClick","src","avatar","Img","alt","from","unread","text","isOnline","Attach","xmlns","viewBox","fill","style","width","height","fillRule","d","clipRule","Messageform","handlesubmit","settext","setimg","onSubmit","htmlFor","type","accept","display","onChange","e","target","files","value","Message","msg","scrollref","useRef","current","scrollIntoView","behaviour","ref","media","fromNow","createdAt","Back","stroke","margin","strokeLinecap","strokeLinejoin","strokeWidth","Home","users","setusers","setchat","img","msgs","setmsgs","screen","currentUser","a","myref","orderBy","queryselector","forEach","push","length","get","docsnap","update","preventDefault","imgRef","Date","getTime","put","getDownloadURL","surl","url","console","log","add","to","toString","set","where","map","i","Navbar","currentuser","setcurrentuser","history","useHistory","handlelogout","signOut","replace","onAuthStateChanged","activeClassName","Signup","email","password","error","loading","handlechange","submit","createUserWithEmailAndPassword","result","toLocaleDateString","message","textAlign","color","disabled","Login","signInWithEmailAndPassword","Camera","cursor","Delete","deleteimg","pointer","Profile","setimage","setuser","window","confirm","storageref","imgref","child","avatarpath","delete","snap","Upload","avtarpath","fullPath","Image","Error","alignItems","justifyContent","flexFlow","background","App","load","setload","PrivateRoute","Component","component","rest","exact","render","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.26dfee32.chunk.js","sourcesContent":["\r\n// Import the functions you need from the SDKs you need\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBZMBo9xtIMI4fhkLh25lu1Z5IIOERqT_8\",\r\n  authDomain: \"chatapp-94dce.firebaseapp.com\",\r\n  databaseURL:\"https://chatapp-94dce.firebaseio.com\",\r\n  projectId: \"chatapp-94dce\",\r\n  storageBucket: \"chatapp-94dce.appspot.com\",\r\n  messagingSenderId: \"24057744022\",\r\n  appId: \"1:24057744022:web:b054fd1abe1b4efbb050b7\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconst auth = firebase.auth();\r\nconst db = firebase.firestore();\r\nconst storage = firebase.storage();\r\nexport {auth,storage};\r\nexport default db;","export default \"data:image/png;base64,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\"","import { useEffect } from \"react\";\r\nimport { useState } from \"react/cjs/react.development\";\r\nimport db from \"../firebase\";\r\nimport Img from \"../avatar.png\"\r\n\r\n\r\nconst User = (props) =>{\r\nconst {user,getuser,user1,chat,setscreen} = props;\r\nconst user2 =user?.uid;\r\nconst [data,setdata] = useState('');\r\nconst id = user1 > user2 ? `${user1+user2}`:`${user2+user1}`\r\nuseEffect(()=>{\r\n    \r\n    let unsub = db.collection('lastmessage').doc(id).onSnapshot((doc)=>{\r\n        setdata(doc.data());\r\n    });\r\n    return ()=> unsub()\r\n},[])\r\n    return <div className={`user ${chat.name === user.name && 'selecteduser'}`} onClick={()=>[getuser(user),setscreen(true)]}>\r\n      <div className=\"user-info\">\r\n          <div className=\"user-details\">\r\n              <img src={user.avatar||Img} alt='avatar' className='avatar'/>\r\n              <div>\r\n              <h4>{user.name}{data?.from !== user1 && data?.unread && (<small className=\"unread\">New</small>)}</h4>\r\n              {data?<p className=\"truncate\"><strong>{data.from===user1?'Me : ':null}</strong>{data.text}</p>:null} \r\n              </div>\r\n          </div>\r\n          <div className={`userstatus ${user.isOnline?'online':'offline'}`}></div>\r\n      </div>\r\n    </div>\r\n}\r\nexport default User;","const Attach=()=>{\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\" style={{width:'30px',height:'30px'}}>\r\n  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z\" clipRule=\"evenodd\" />\r\n</svg>\r\n    );\r\n}\r\nexport default Attach;","import Attach from \"../svg/attach\"\r\n\r\nconst Messageform = (props) =>{\r\nconst {handlesubmit,text,settext,setimg} = props;\r\n    return <>\r\n    <form className=\"message-form\" onSubmit={handlesubmit}>\r\n    <label htmlFor=\"img\">\r\n    <Attach/>\r\n    </label>\r\n    <input type=\"file\" id=\"img\" accept=\"image/*\" style={{display:\"none\"}} onChange={e=>setimg(e.target.files[0])} />\r\n    <div>\r\n        <input type=\"text\" value={text} onChange={(e)=>settext(e.target.value)}/>\r\n    </div>\r\n    <div>\r\n        <button className=\"btn\">send</button>\r\n    </div>\r\n    </form>\r\n    </>\r\n}\r\nexport default Messageform;","import { useEffect, useRef } from \"react\";\r\nimport Moment from \"react-moment\";\r\n\r\nconst Message = (props)=>{\r\nconst {msg,user1} = props;\r\nconst scrollref = useRef();\r\n\r\n\r\nuseEffect(()=>{\r\n    scrollref.current?.scrollIntoView({behaviour:\"smooth\"})\r\n},[msg])\r\n\r\n    return <>\r\n    <div className={`message_container ${msg.from === user1 ?\"own\":\"\" }`} ref={scrollref}>\r\n        <p className={msg.from === user1 ? \"me\" : \"friend\"}>\r\n            {msg.media?<img src={msg.media} alt={msg.text}/>:null}\r\n            {msg.text}\r\n            <br/>\r\n            <small>\r\n            <Moment fromNow>{msg.createdAt}</Moment>\r\n            </small>\r\n        </p>\r\n    </div>\r\n    </>\r\n}\r\nexport default Message;","const Back = ()=>{\r\n    return <>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" style={{width:'25px',height:'25px',margin:'10px 20px'}}>\r\n <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n</svg>\r\n    </>\r\n}\r\nexport default Back;","import React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport db from \"../firebase\";\r\nimport { auth , storage } from \"../firebase\";\r\nimport User from \"../components/user\";\r\nimport Messageform from \"../components/messageform\";\r\nimport Message from \"../components/message\";\r\nimport Back from \"../svg/back\";\r\n\r\nconst Home = () =>{\r\nconst [users,setusers]=useState([]);\r\nconst [chat,setchat] = useState(\"\");\r\nconst [text,settext] = useState('');\r\nconst [img,setimg] = useState('');\r\nconst [msgs,setmsgs] = useState('');\r\nconst [screen,setscreen] = useState(false);\r\nconst user1 = auth.currentUser.uid;\r\n\r\nconst getuser = async(user) =>{\r\n    setchat(user);\r\n    const user2 = chat.uid;\r\n    const id = user1 > user2 ? `${user1+user2}`:`${user2+user1}`;\r\n    \r\n    const myref = db.collection('messages').doc(id).collection('chat');\r\n    const q = myref.orderBy('createdAt','asc');\r\n    q.onSnapshot((queryselector) =>{\r\n       let msgs=[];\r\n       queryselector.forEach((doc)=>{\r\n           msgs.push(doc.data());\r\n       })\r\n       msgs.length ?setmsgs(msgs):setmsgs('');\r\n     })\r\n    const docsnap = await db.collection('lastmessage').doc(id).get();\r\n    if(docsnap.data() && docsnap.data().from !== user)\r\n    {\r\n        await db.collection('lastmessage').doc(id).update({\r\n            unread:false\r\n        })\r\n    }\r\n}\r\n\r\nconst handlesubmit = async(e)=>{\r\n    e.preventDefault();\r\n    const user2 = chat.uid;\r\n    const id = user1 > user2 ? `${user1+user2}`:`${user2+user1}`\r\nlet url;\r\nif(img){\r\n    const imgRef = storage.ref(`chatImages/${new Date().getTime()} ${img.name}`);\r\n    const snap = await imgRef.put(img);\r\n    const surl = await imgRef.getDownloadURL();\r\n    url = surl;\r\n    console.log(url);\r\n}\r\n    await db.collection('messages').doc(id).collection('chat').add({\r\n        text,\r\n        from:user1,\r\n        to:user2,\r\n        createdAt:new Date().toString(),\r\n        media:url ||'',\r\n    })\r\n    await db.collection('lastmessage').doc(id).set({\r\n        text,\r\n        from:user1,\r\n        to:user2,\r\n        createdAt:new Date().toString(),\r\n        media:url ||'',\r\n        unread:true\r\n    })\r\n   settext('');\r\n}\r\n\r\nuseEffect(()=>{\r\nconst useref = db.collection('users');\r\nvar q = useref.where('uid','not-in',[auth.currentUser.uid]);\r\nconst unsub = q.onSnapshot((queryselector)=>{\r\n    let users = [];\r\n    queryselector.forEach((doc)=>{\r\n   users.push(doc.data());\r\n    })\r\n    setusers(users);\r\n});\r\nreturn () => unsub();\r\n\r\n},[])\r\n    return<> <div className=\"home\">\r\n    <div className={`users ${screen ?'display':null}`} >\r\n     {users.map((user)=>{\r\n        return <User key={user.uid} user={user} getuser={getuser} user1={user1} chat={chat} setscreen={setscreen}/>\r\n     })}\r\n    </div>\r\n    <div className=\"msgs\">\r\n     {chat?<>\r\n        \r\n        <div className=\"user_message\">\r\n           {screen?<div onClick={()=>{setscreen(false)}}><Back /></div>:null} \r\n         <span><h3>{chat.name}</h3></span>\r\n     </div>\r\n     <div className='messages'>\r\n           {\r\n               msgs ? msgs.map((msg,i)=>{\r\n                   return <Message key={i} msg={msg} user1={user1}/>\r\n               }):<div className=\"no_chat\"> Start Conversation </div>\r\n           }\r\n         </div>\r\n         <Messageform handlesubmit={handlesubmit} text={text} settext={settext} setimg={setimg}/>\r\n     </>:<div className=\"no_chat\">Select an User to start conversation</div>\r\n     }\r\n    </div>\r\n</div></>\r\n}\r\nexport default Home;","import { useState,useEffect } from \"react\";\r\nimport { NavLink,useHistory } from \"react-router-dom\"\r\nimport { auth } from \"../firebase\";\r\nimport db from \"../firebase\";\r\n\r\nconst Navbar = (props) =>{\r\n  const [currentuser,setcurrentuser] = useState(null);\r\n  const history = useHistory();\r\n  const handlelogout=async()=>{\r\n    await db.collection('users').doc(auth.currentUser.uid).update({\r\n      isOnline:false\r\n  })\r\n  await auth.signOut();\r\n  setcurrentuser(null);\r\n  history.replace(\"/login\");\r\n  }\r\n  \r\n  useEffect(()=>{\r\n    auth.onAuthStateChanged((user)=>\r\n    setcurrentuser(user));\r\n    // console.log(currentuser);\r\n  },[currentuser])\r\n\r\n    return <nav>\r\n      <h1>\r\n      <NavLink id='logo' to=\"/\">ChatApp</NavLink>\r\n      </h1>\r\n      {currentuser? <div>\r\n      <NavLink activeClassName=\"active\" to=\"/profile\">Profile</NavLink>\r\n      <NavLink to=\"/login\"  >\r\n        <button className=\"btn\" onClick={handlelogout}>Logout</button>\r\n      </NavLink>\r\n      </div>:\r\n      <div>\r\n          <NavLink to=\"/login\" activeClassName='active'>Login</NavLink>\r\n          <NavLink to=\"/signup\" activeClassName='active' >signup</NavLink>\r\n      </div>}\r\n     \r\n    </nav>\r\n}\r\nexport default Navbar;","import { useState } from \"react\";\r\nimport { auth } from \"../firebase\";\r\nimport db from \"../firebase\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Signup =()=>{\r\n    const history = useHistory();\r\n const [data,setdata] = useState({\r\n     name:'',\r\n     email:'',\r\n     password:'',\r\n     error:null,\r\n     loading:false\r\n });\r\nconst {name,email,password,error,loading} = data;\r\n\r\nconst handlechange=(e)=>{\r\n    setdata({...data,[e.target.name]:e.target.value});\r\n}\r\nconst submit = async(e)=>{\r\n    e.preventDefault();\r\n    setdata({...data,error:null,loading:true});\r\n    if(!name || !email || !password)\r\n    setdata({...data,error:\"All fields are required!\"});\r\n    try\r\n    {\r\n      const result = await auth.createUserWithEmailAndPassword(email,password);\r\n      await db.collection('users').doc(result.user.uid).set({\r\n          uid:result.user.uid,\r\n          name,\r\n          email,\r\n          createdAt: new Date().toLocaleDateString(),\r\n          isOnline:false\r\n      })\r\n      setdata({  \r\n     name:'',\r\n      email:'',\r\n      password:'',\r\n      error:null,\r\n      loading:false\r\n    });\r\n    history.replace(\"/\");\r\n    }catch(err){\r\n        console.log(err);\r\n     setdata({...data,error:err.message});\r\n    }\r\n}\r\n    return <section>\r\n        <h3> Create an Account</h3>\r\n        <form onSubmit={submit}>\r\n          <div className=\"input_container\">\r\n           <label htmlFor=\"name\">Name</label>\r\n           <input type=\"text\" name=\"name\" value={name} onChange={handlechange}/>\r\n          </div>\r\n          <div className=\"input_container\">\r\n           <label htmlFor=\"email\">Email</label>\r\n           <input type=\"email\" name=\"email\" value={email} onChange={handlechange}/>\r\n          </div>\r\n          <div className=\"input_container\">\r\n           <label htmlFor=\"password\">Password</label>\r\n           <input type=\"password\" name=\"password\" value={password} onChange={handlechange}/>\r\n          </div>\r\n          {error?<div style={{textAlign:\"center\", color:\"red\"}}>{error}</div>:null}\r\n          <div className=\"btn_container\" disabled={loading}>\r\n              <button className=\"btn\">{loading? \"Creating...\" : \"Signup\"}</button>\r\n          </div>\r\n        </form>\r\n    </section>\r\n}\r\n\r\nexport default Signup;","import { useState } from \"react\";\r\nimport { auth } from \"../firebase\";\r\nimport db from \"../firebase\";\r\nimport { useHistory } from \"react-router\";\r\n\r\n\r\nconst Login =()=>{\r\n    const history = useHistory();\r\n const [data,setdata] = useState({\r\n   \r\n     email:'',\r\n     password:'',\r\n     error:null,\r\n     loading:false\r\n });\r\nconst {email,password,error,loading} = data;\r\n\r\nconst handlechange=(e)=>{\r\n    setdata({...data,[e.target.name]:e.target.value});\r\n}\r\nconst submit = async(e)=>{\r\n    e.preventDefault();\r\n    setdata({...data,error:null,loading:true});\r\n    if( !email || !password)\r\n    setdata({...data,error:\"All fields are required!\"});\r\n    try\r\n    {\r\n      const result = await auth.signInWithEmailAndPassword(email,password);\r\n      await db.collection('users').doc(result.user.uid).update({\r\n          isOnline:true\r\n      })\r\n      setdata({  \r\n     \r\n      email:'',\r\n      password:'',\r\n      error:null,\r\n      loading:false\r\n    });\r\n    history.replace(\"/\");\r\n    }catch(err){\r\n        console.log(err);\r\n     setdata({...data,error:err.message});\r\n    }\r\n}\r\n    return <section>\r\n        <h3> Login to your Account</h3>\r\n        <form onSubmit={submit}>\r\n          <div className=\"input_container\">\r\n           <label htmlFor=\"email\">Email</label>\r\n           <input type=\"email\" name=\"email\" value={email} onChange={handlechange}/>\r\n          </div>\r\n          <div className=\"input_container\">\r\n           <label htmlFor=\"password\">Password</label>\r\n           <input type=\"password\" name=\"password\" value={password} onChange={handlechange}/>\r\n          </div>\r\n          {error?<div style={{textAlign:\"center\", color:\"red\"}}>{error}</div>:null}\r\n          <div className=\"btn_container\" disabled={loading}>\r\n              <button className=\"btn\">{loading? \"Logging In...\" : \"Login\"}</button>\r\n          </div>\r\n        </form>\r\n    </section>\r\n}\r\n\r\nexport default Login;","\r\n\r\nconst Camera = () =>{\r\n    return (<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\" style={{width:\"25px\" , height : \"25px\" , cursor:\"pointer\"}}>\r\n    <path fillRule=\"evenodd\" d=\"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\" clipRule=\"evenodd\" />\r\n  </svg>);\r\n}\r\nexport default Camera;","\r\n\r\nconst Delete = (props) =>{\r\n    const {deleteimg} = props;\r\n    return (<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor \"style={{height:\"25px\", width:\"25px\" , pointer:\"cursor\",color:\"orange\"}} onClick={deleteimg}>\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n  </svg>);\r\n}\r\nexport default Delete;","import { useEffect } from \"react\";\r\nimport Image from \"../avatar.png\";\r\nimport Camera from \"../svg/camera\";\r\nimport Delete from \"../svg/delete\";\r\nimport { useState } from \"react\";\r\nimport { storage, auth } from \"../firebase\";\r\nimport db from \"../firebase\";\r\n\r\nconst Profile = () => {\r\n    const [img, setimage] = useState('');\r\n    const [user, setuser] = useState();\r\n    const handlechange = (e) => {\r\n        setimage(e.target.files[0]);\r\n        console.log(img);\r\n    }\r\n\r\nconst deleteimg = async()=>{\r\n    try{\r\n        const confirm = window.confirm(\"Deleting Avatar\");\r\n        if(confirm){\r\n            const storageref = storage.ref();\r\n        const imgref = storageref.child(`${user.avatarpath}`);\r\n        await imgref.delete();\r\n        await db.collection('users').doc(auth.currentUser.uid).update({\r\n            avatar: \"\",\r\n            avatarpath: \"\"\r\n        });\r\n        }\r\n        console.log(user.avatarpath);\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\n    useEffect(() => {\r\n        db.collection('users').onSnapshot((snap)=>{\r\n            snap.forEach((doc)=>{\r\n                if(doc.data().uid === auth.currentUser.uid)\r\n                setuser(doc.data());\r\n                // console.log(user);\r\n            })\r\n        })\r\n     if(img) {\r\n            const Upload = async () => {\r\n                const imgRef = storage.ref(`avatar/${new Date().getTime()} ${img.name}`);\r\n                try {\r\n                    if(user.avatarpath){\r\n                        const storageref = storage.ref();\r\n                        const imgref = storageref.child(`${user.avtarpath}`);\r\n                        await imgref.delete();\r\n                    }\r\n                    const snap = await imgRef.put(img);\r\n                    const url = await imgRef.getDownloadURL();\r\n                    await db.collection('users').doc(auth.currentUser.uid).update({\r\n                        avatar: url,\r\n                        avatarpath: snap.ref.fullPath\r\n                    });\r\n                    setimage('');\r\n                    console.log(url);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                }\r\n            }\r\n            Upload();\r\n        }\r\n    }, [img])\r\n    return <section>\r\n        {user?\r\n        <div className=\"profile_container\">\r\n            <div className=\"img_container\">\r\n                <img src={  user.avatar || Image } alt=\"avtar\" />\r\n                <div className=\"overlay\">\r\n                    <label htmlFor=\"photo\">\r\n                        <Camera />\r\n                    </label>\r\n                    {user.avatar?<Delete deleteimg={deleteimg}/>:null}\r\n                    <input type=\"file\" accept=\"image/*\" style={{ display: \"none\" }} id=\"photo\" onChange={handlechange} />\r\n                </div>\r\n            </div>\r\n            <div className=\"text_container\">\r\n                <h3>{user.name}</h3>\r\n                <p>{user.email}</p>\r\n                <hr />\r\n                <small>Joined on : {user.createdAt}</small>\r\n            </div>\r\n        </div>\r\n    :<div>Loading...</div>} \r\n    </section>\r\n}\r\nexport default Profile;","\r\nconst Error =()=>{\r\n    return <div style={{display:\"flex\",alignItems:'center',justifyContent:'center',flexFlow:'row',width:'100vw',height:'100vh',background:'white',color:'black',}}>\r\n        <h1>Page not found!</h1>\r\n        <p>404 Error</p>\r\n    </div>\r\n}\r\nexport default Error;","import { HashRouter, Switch ,Route} from 'react-router-dom';\nimport './App.css';\nimport Home from './pages/Home';\nimport Navbar from './components/Navbar';\nimport Signup from './pages/signup';\nimport Login from './pages/Login';\nimport Profile from './pages/profile';\nimport Error from './pages/error';\nimport { auth } from \"./firebase\";\nimport {  Redirect } from \"react-router\";\nimport { useEffect, useState } from \"react\";\n// import PrivateRoute from './components/privateroute';\n\nfunction App() {\n  const [currentuser,setuser]= useState(null);\n  const [load,setload] = useState(false);\n  const user =auth.currentUser;\n  const PrivateRoute=(props)=>{\n  const {component:Component, ...rest} = props;\n    return <>{\n        load?<Route {...rest} exact render={(props)=>user?<Component {...props}/>:<Redirect to=\"/login\"/>}/>:<div>Loading</div>\n    }\n    </>\n  }\n  useEffect(()=>{\n    auth.onAuthStateChanged((user)=>\n    {\n        setuser(user);\n        setload(true);\n    })\n   },[currentuser]);\n  return (\n   <HashRouter>\n   <Navbar/>\n   <Switch>\n   <Route exact path=\"/signup\" component={Signup}/>\n   <Route exact path=\"/login\" component={Login}/>\n   <Route exact path=\"/profile\" component={Profile}/>\n   <PrivateRoute exact path=\"/React-firebase-chatapp\" component={Home}/>\n   <PrivateRoute exact path=\"/\" component={Home}/>\n   <Route component={Error}/>\n   </Switch>\n  </HashRouter> \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}